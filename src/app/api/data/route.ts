import { Category, Item } from '@/lib/shared';
import { NextRequest } from 'next/server';
import { v4 as uuidv4 } from 'uuid';

const data: Item[] = [
  {
    id: uuidv4(),
    title: 'TOUCH PBT Wireless Mouse',
    price: 69.99,
    currency: 'USD',
    company: 'Lofree',
    category: Category.Tech,
    image: '/images/touch_pbt.png',
    href: 'https://www.lofree.co/products/lofree-touch-pbt-wireless-mouse?variant=44242527551707',
  },
  {
    id: uuidv4(),
    title: 'Togo Sofa',
    price: 3111,
    currency: 'EUR',
    company: 'Ligne Roset',
    category: Category.Living,
    image: '/images/togo_sofa.png',
    href: 'https://www.ligne-roset.com/de/p/sofas/2-sitzer-togo-1178',
  },
  {
    id: uuidv4(),
    title: 'pocket operator keychain',
    price: 10,
    currency: 'EUR',
    company: 'Teenage Engineering',
    category: Category.Lifestyle,
    image: '/images/pocket-operator-keychain.png',
    href: 'https://teenage.engineering/store/pocket-operator-keychain',
  },
  {
    id: uuidv4(),
    title: 'Washer Ring',
    price: 59.95,
    currency: 'EUR',
    company: 'ORE',
    category: Category.Lifestyle,
    image: '/images/washer-ring.png',
    href: 'https://orejewellery.co.uk/products/washer-ring?variant=45719629988119',
  },
  {
    id: uuidv4(),
    title: 'Clever Dripper',
    price: 34.9,
    currency: 'EUR',
    company: 'Clever',
    category: Category.Coffee,
    image: '/images/clever_dripper.png',
    href: 'https://www.cremashop.eu/en/products/clever/coffee-dripper-l/11965',
  },
  {
    id: uuidv4(),
    title: 'CENTENARY',
    price: 1795,
    currency: 'EUR',
    company: 'Globe Trotter',
    category: Category.Lifestyle,
    image: '/images/centenary.png',
    href: 'https://www.globe-trotter.com/products/centenary-4-wheels-carry-on-black-black-black',
  },
  {
    id: uuidv4(),
    title: 'TWIST-LOCK CARABINER RD-TLC GREY',
    price: 40,
    currency: 'USD',
    company: 'Riot Division',
    category: Category.Lifestyle,
    image: '/images/twist-lock-carabiner.png',
    href: 'https://riotdivision.tech/products/twist-lock-carabiner-rd-tlc-grey',
  },
  {
    id: uuidv4(),
    title: 'Unfortunately',
    price: 20,
    currency: 'GBP',
    company: 'The District',
    category: Category.Living,
    image: '/images/unfortunately.png',
    href: 'https://the-brandidentity.com/store/product/unfortunately',
  },
  {
    id: uuidv4(),
    title: 'Ode',
    price: 345,
    currency: 'USD',
    company: 'Fellow',
    category: Category.Coffee,
    image: '/images/ode.png',
    href: 'https://fellowproducts.com/products/ode-brew-grinder-gen-2?variant=40978992463972',
  },
  {
    id: uuidv4(),
    title: 'BoostCharge Pro',
    price: 149.99,
    currency: 'USD',
    company: 'Belkin',
    category: Category.Tech,
    image: '/images/boostcharge-pro.png',
    href: 'https://www.belkin.com/3-in-1-wireless-charger-with-official-magsafe-charging-15w/P-WIZ017.html?dwvar_P-WIZ017_color=White&swatchattr=color&swatchval=White',
  },
  {
    id: uuidv4(),
    title: 'Mohair blanket',
    price: 745,
    currency: 'EUR',
    company: 'Tekla',
    category: Category.Living,
    image: '/images/mohair-blanket.png',
    href: 'https://teklafabrics.com/product/the-colours-of-le-corbusier-mohair-blanket-orange#gallery-modal-image-1',
  },
  {
    id: uuidv4(),
    title: 'PEARL MODEL S',
    price: 220,
    currency: 'USD',
    company: 'Acaia',
    category: Category.Coffee,
    image: '/images/pearl-model-s.png',
    href: 'https://acaia.co/collections/coffee-scales/products/pearl-model-s?variant=43635168968932',
  },
  {
    id: uuidv4(),
    title: 'Laptop 13 DIY Edition',
    price: 979,
    currency: 'EUR',
    company: 'Framework',
    category: Category.Tech,
    image: '/images/laptop-13-diy-edition.png',
    href: 'https://frame.work/de/en/products/laptop-diy-13-gen-amd',
  },
  {
    id: uuidv4(),
    title: 'Blackpepper Eau de Parfum',
    price: 95,
    currency: 'EUR',
    company: 'Comme des Garçons',
    category: Category.Personal,
    image: '/images/blackpepper-eau-de-parfum.png',
    href: 'https://www.comme-des-garcons.de/en/products/blackpepper-eau-de-parfum?variant=33020993142922',
  },
  {
    id: uuidv4(),
    title: 'Ukrainian Dripper',
    price: 91.21,
    currency: 'EUR',
    company: 'Dotyk',
    category: Category.Coffee,
    image: '/images/ukrainian-dripper.png',
    href: 'https://www.etsy.com/listing/1685040993/dotyk-dripper-next-gen-handmade-ceramic?etsrc=sdtr',
  },
  {
    id: uuidv4(),
    title: 'Supertamp',
    price: 195,
    currency: 'EUR',
    company: 'Coto',
    category: Category.Coffee,
    image: '/images/supertamp.png',
    href: 'https://cotostudios.com/produkt/supertamp/',
  },
  {
    id: uuidv4(),
    title: 'OP-Z protective soft case',
    price: 48,
    currency: 'EUR',
    company: 'Teenage Engineering',
    category: Category.Lifestyle,
    image: '/images/opz-protective-soft-case.png',
    href: 'https://teenage.engineering/store/op-z-soft-case/',
  },
  {
    id: uuidv4(),
    title: 'Linea Mini',
    price: 5136,
    currency: 'EUR',
    company: 'La Marzocco',
    category: Category.Coffee,
    image: '/images/linea-mini.png',
    href: 'https://lamarzocco.com/fr/en/home-products/espresso-machines/linea-mini-r/',
  },
  {
    id: uuidv4(),
    title: 'AT-SB727',
    price: 199,
    currency: 'USD',
    company: 'Audio-Technica',
    category: Category.Tech,
    image: '/images/at-sb727.png',
    href: 'https://www.audio-technica.com/en-us/turntables/all/at-sb727',
  },
  {
    id: uuidv4(),
    title: 'FlatPak™ Toiletry Bottles',
    price: 14,
    currency: 'USD',
    company: 'Matador',
    category: Category.Lifestyle,
    image: '/images/flatpak-toiletry-bottles.png',
    href: 'https://www.matadorequipment.com/collections/accessories/products/flatpak-toiletry-bottle',
  },
  {
    id: uuidv4(),
    title: 'The Abbey',
    price: 79,
    currency: 'EUR',
    company: 'James',
    category: Category.Lifestyle,
    image: '/images/the-abbey.png',
    href: 'https://thejamesbrand.eu/products/the-abbey?variant=40550139822195',
  },
  {
    id: uuidv4(),
    title: 'Hydrous Plant Mister',
    price: 65,
    currency: 'EUR',
    company: 'Audo Copenhagen',
    category: Category.Living,
    image: '/images/hydrous-plant-mister.png',
    href: 'https://audocph.com/products/hydrous-plant-mister#',
  },
  {
    id: uuidv4(),
    title: 'Capsule Cold Brew Carafe',
    price: 32,
    currency: 'USD',
    company: 'Kinto',
    category: Category.Coffee,
    image: '/images/capsule-cold-brew-carafe.png',
    href: 'https://kinto-europe.com/collections/coffeeware/products/26471?variant=18332586082362',
  },
  {
    id: uuidv4(),
    title: 'Alfresco Coffee Jug',
    price: 24.5,
    currency: 'EUR',
    company: 'Kinto',
    category: Category.Coffee,
    image: '/images/alfresco-coffee-jug.png',
    href: 'https://kinto-europe.com/collections/coffeeware/products/20731?variant=31997691854906',
  },
  {
    id: uuidv4(),
    title: 'Dog Bowl',
    price: 25,
    currency: 'USD',
    company: 'Wild One',
    category: Category.Living,
    image: '/images/dog-bowl.png',
    href: 'https://wildone.com/products/bowl?title=black-standard',
  },
  {
    id: uuidv4(),
    title: 'TGC102 yuzu soap',
    price: 25,
    currency: 'EUR',
    company: 'Tangent GC',
    category: Category.Personal,
    image: '/images/tgc102-yuzu-soap.png',
    href: 'https://tangentgc.com/products/tgc102-yuzu-organic-soap',
  },
];

export async function GET(req: NextRequest) {
  const category = req.nextUrl.searchParams.get('category')?.toLowerCase();

  let res = data;

  if (category) {
    res = res.filter((item) => item.category.toLowerCase() === category);
  }

  return Response.json(res);
}
